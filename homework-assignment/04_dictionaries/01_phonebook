"""
ğŸ“ Phonebook Management System ğŸ“
--------------------------------
ğŸ”¹ Add contacts (Name & Phone Number)
ğŸ”¹ View all saved contacts
ğŸ”¹ Search for a contact using a partial or full name
ğŸ”¹ Exit when finished

Developed by: Sahir Ahmed Sheikh
"""

def read_phone_numbers():
    """
    Collects names and phone numbers from the user and stores them in a dictionary.
    Returns the dictionary containing the phonebook.
    """
    phonebook = {}

    while True:
        name = input("Enter contact name (or press Enter to stop): ").strip()
        if name == "":
            break

        number = input(f"Enter phone number for {name}: ").strip()
        phonebook[name] = number

    return phonebook


def print_phonebook(phonebook):
    """
    Displays all contacts stored in the phonebook.
    """
    if not phonebook:
        print("\nğŸ“Œ The phonebook is empty. Add contacts first!\n")
        return

    print("\nğŸ“– Phonebook Entries:")
    print("-" * 30)
    for name, number in phonebook.items():
        print(f"ğŸ“Œ {name} -> {number}")
    print("-" * 30)


def lookup_numbers(phonebook):
    """
    Allows the user to search for a contactâ€™s phone number by full or partial name.
    """
    while True:
        search_query = input("\nğŸ” Enter name to look up (or press Enter to stop): ").strip()
        if search_query == "":
            break

        matches = {name: number for name, number in phonebook.items() if search_query.lower() in name.lower()}

        if matches:
            print("\nğŸ” Found Contacts:")
            for name, number in matches.items():
                print(f"âœ… {name}: {number}")
        else:
            print(f"âŒ No contacts found for '{search_query}'.")


def main():
    """
    Main function that runs the phonebook program.
    """
    print("\nğŸ“ Welcome to the Phonebook Management System! ğŸ“\n")

    phonebook = read_phone_numbers()  # Step 1: Collect contacts
    print_phonebook(phonebook)  # Step 2: Display all contacts
    lookup_numbers(phonebook)  # Step 3: Allow searching for contacts

    print("\nğŸ“´ Exiting Phonebook. Have a great day! ğŸ˜Š")


if __name__ == '__main__':
    main()
